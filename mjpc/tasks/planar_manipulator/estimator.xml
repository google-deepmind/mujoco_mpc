<mujoco model="manipulator ball estimator">
  <include file="../common.xml"/>
  <include file="manipulator.xml" />

  <size memory="100K"/>

  <sensor>
    <jointpos name="ball_x" joint="ball_x" />
    <jointpos name="ball_z" joint="ball_z" />

    <jointvel name="vball_x" joint="ball_x" />
    <jointvel name="vball_z" joint="ball_z" />

    <framepos name="upper_arm_site" objtype="site" objname="upper_arm_site" />
    <framepos name="middle_arm_site" objtype="site" objname="middle_arm_site" />
    <framepos name="lower_arm_site" objtype="site" objname="lower_arm_site" />
    <framepos name="wrist_site" objtype="site" objname="wrist_site" />
    <framepos name="thumbtip_site" objtype="site" objname="thumbtip_site" />
    <framepos name="fingertip_site" objtype="site" objname="fingertip_site" />

    <framelinvel name="vupper_arm_site" objtype="site" objname="upper_arm_site" />
    <framelinvel name="vmiddle_arm_site" objtype="site" objname="middle_arm_site" />
    <framelinvel name="vlower_arm_site" objtype="site" objname="lower_arm_site" />
    <framelinvel name="vwrist_site" objtype="site" objname="wrist_site" />
    <framelinvel name="vthumbtip_site" objtype="site" objname="thumbtip_site" />
    <framelinvel name="vfingertip_site" objtype="site" objname="fingertip_site" />
  </sensor>

  <worldbody>
    <body name="debug_target" mocap="true" pos="-0.2 0 0.6">
      <geom type="sphere" size="0.02" rgba="0.8 0.2 0.2 0.5" contype="0" conaffinity="0"/>
    </body>
    <body name="ball" pos="-.125 0 .022" childclass="object">
      <joint name="ball_x" type="slide" axis="1 0 0" ref=".4"/>
      <joint name="ball_z" type="slide" axis="0 0 1" ref=".4"/>
      <joint name="ball_y" type="hinge" axis="0 1 0"/>
      <geom  name="ball" type="sphere" size=".022" />
      <site  name="ball" type="sphere" rgba="1 0 1 1" size="0.022" />
    </body>
  </worldbody>
</mujoco>