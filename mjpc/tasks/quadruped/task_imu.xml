<mujoco model="QuadrupedIMU">
  <include file="../common.xml"/>

  <size memory="1M"/>

  <visual>
    <headlight diffuse="0.6 0.6 0.6"  ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <global azimuth="-90"/>
  </visual>

  <statistic extent="1" center="0 0 .3"/>

  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" diffuse="0.5 0.5 0.5" specular="0.3 0.3 0.3"
      directional="true" castshadow="false"/>
    <geom name="floor" size="0 0 0.1" pos="0 0 -0.01" type="plane" material="blue_grid"/>
     <body name="goal" mocap="true" pos=".3 0 0.26">
        <geom size="0.12" contype="0" conaffinity="0" rgba="1 0 0 .5" group="2"/>
      </body>

      <body name="box" mocap="true" pos="-2.5 0 0">
        <geom name="box" class="prop" size="1 1 0.3"/>
      </body>
      <geom name="ramp" class="prop" pos="3.13 2.5 -.18" size="1.6 1 .5" euler="0 -0.2 0"/>
      <geom name="hill" class="prop" pos="6 6 -5.5" size="6" type="sphere"/>
  </worldbody>

  <default>
    <default class="torque">
      <general gainprm="40" ctrllimited="true" ctrlrange="-0.5 0.5"/>
    </default>
    <default class="task">
      <site rgba="1 0 0 1" size=".02" group="5"/>
      <default class="flight">
        <site rgba="1 .3 .3 1" size="0.019" group="5"/>
      </default>
      <default class="stance">
        <site rgba=".3 1 .3 1" size=".018" group="4"/>
      </default>
    </default>
    <default class="prop">
      <geom type="box" rgba="0 0.4 1 1"/>
    </default>
  </default>

  <include file="a1.xml" />

  <actuator>
    <general class="torque" name="FR_hip" joint="FR_hip_joint"/>
    <general class="torque" name="FR_thigh" joint="FR_thigh_joint"/>
    <general class="torque" name="FR_calf" joint="FR_calf_joint"/>
    <general class="torque" name="FL_hip" joint="FL_hip_joint"/>
    <general class="torque" name="FL_thigh" joint="FL_thigh_joint"/>
    <general class="torque" name="FL_calf" joint="FL_calf_joint"/>
    <general class="torque" name="RR_hip" joint="RR_hip_joint"/>
    <general class="torque" name="RR_thigh" joint="RR_thigh_joint"/>
    <general class="torque" name="RR_calf" joint="RR_calf_joint"/>
    <general class="torque" name="RL_hip" joint="RL_hip_joint"/>
    <general class="torque" name="RL_thigh" joint="RL_thigh_joint"/>
    <general class="torque" name="RL_calf" joint="RL_calf_joint"/>
  </actuator>

  <sensor>
    <!-- body IMU -->
    <accelerometer name="linacc_body" site="torso" />
    <gyro name="angvel_body" site="torso" />

    <!-- FR IMU -->
    <accelerometer name="linacc_FR" site="FR" />
    <gyro name="angvel_FR" site="FR" />

    <!-- FL IMU -->
    <accelerometer name="linacc_FL" site="FL" />
    <gyro name="angvel_FL" site="FL" />

    <!-- RR IMU -->
    <accelerometer name="linacc_RR" site="RR" />
    <gyro name="angvel_RR" site="RR" />

    <!-- RL IMU -->
    <accelerometer name="linacc_RL" site="RL" />
    <gyro name="angvel_RL" site="RL" />

    <!-- joints positions -->
    <jointpos name="pos_FR_hip_joint" joint="FR_hip_joint" />
    <jointpos name="pos_FR_thigh_joint" joint="FR_thigh_joint" />
    <jointpos name="pos_FR_calf_joint" joint="FR_calf_joint" />
    <jointpos name="pos_FL_hip_joint" joint="FL_hip_joint" />
    <jointpos name="pos_FL_thigh_joint" joint="FL_thigh_joint" />
    <jointpos name="pos_FL_calf_joint" joint="FL_calf_joint" />
    <jointpos name="pos_RR_hip_joint" joint="RR_hip_joint" />
    <jointpos name="pos_RR_thigh_joint" joint="RR_thigh_joint" />
    <jointpos name="pos_RR_calf_joint" joint="RR_calf_joint" />
    <jointpos name="pos_RL_hip_joint" joint="RL_hip_joint" />
    <jointpos name="pos_RL_thigh_joint" joint="RL_thigh_joint" />
    <jointpos name="pos_RL_calf_joint" joint="RL_calf_joint" />

    <framepos      name="trace0" objtype="site" objname="head"/>
    <subtreecom    name="torso_subtreecom" body="trunk"/>
    <subtreelinvel name="torso_subtreelinvel" body="trunk"/>
    <subtreelinvel name="torso_angmom" body="trunk"/>
  </sensor>
</mujoco>
